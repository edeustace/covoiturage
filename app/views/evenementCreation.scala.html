@import helper._ 
@import helper.twitterBootstrap._

@main(Messages("playauthenticate.createEvent.title"),"createEvent") {

    <link href="@routes.Assets.at("css/bootstrap-datepicker.css")" rel="stylesheet" />
    <link href="@routes.Assets.at("css/bootstrap-timepicker.css")" rel="stylesheet" />

	<script type="text/javascript" src="http://maps.googleapis.com/maps/api/js?libraries=places&sensor=false"></script>
	<script type="text/javascript" src="@routes.Assets.at("js/lib/angular.js")"></script>
	<script type="text/javascript" src="@routes.Assets.at("js/app/directives/angular-strap.min.js")"></script>
    <script type="text/javascript" src="@routes.Assets.at("js/app/directives/bootstrap-datepicker.js")"></script>
    <script type="text/javascript" src="@routes.Assets.at("js/app/directives/bootstrap-timepicker.js")"></script>
    <script type="text/javascript" src="@routes.Assets.at("js/app/directives/ui-bootstrap-tpls-0.4.0.min.js")"></script>
	<script type="text/javascript" src="@routes.Assets.at("js/app/directives/googleplace.js")"></script>
	<script type="text/javascript" src="@routes.Assets.at("js/app/modules/mailUtils.js")"></script>
	<script type="text/javascript" src="@routes.Assets.at("js/app/event/create/app.js")"></script>
	<script type="text/javascript" src="@routes.Assets.at("js/app/event/create/controller.js")"></script>
	
	<div ng-controller="EventCreationCtrl" ng-app="covoiturage">
		<div class="row-fluid" >
			<div class="span2"></div>
			<!--Colonne de gauche-->
			<div class="span6">
				<fieldset>
				<legend>Créer un évenement</legend>
				
				<div class="row-fluid" >
					<div class="span4">
						<label>Nom</label> 
						<input ng-model="event.name" type="text" ></input>
                        <label>Description</label>
                        <textarea ng-model="event.description" rows="3" cols="8"></textarea>
                        <label>Date de l'événement</label>
                        <div class="control-group input-append">
                            <input type="text" ng-model="event.fromDate" data-date-format="dd/mm/yyyy" bs-datepicker>
                            <button type="button" class="btn" data-toggle="datepicker"><i class="icon-calendar"></i></button>
                        </div>
						<label>Adresse de l'évenement :</label> 
						<input ng-model="event.address" googleplace type="text" placeholder="{{event.address.description}}"></input>
					</div>
				</div>		
				<div class="row-fluid" >
					<div class="span6">				

						<label><span tooltip-placement="right" tooltip="Un mail sera envoyé à ces contacts avec les indications pour participer à l'événement">Envoyer l'évenement aux personnes suivantes :</span></label> 
						<div class="alert alert-info" ng-repeat="contact in event.contacts" >
		 						<button type="button" class="close" data-dismiss="alert" ng-click="remove($index)">&times;</button>
		 						{{contact}}
						</div>	
						<div class="controls">
							<div class="input-prepend input-append">
						      <span class="add-on"><i class="icon-envelope"></i></span>
						      <input ng-model="contact" placeholder="email1;email2..." type="text"></input>
							  <button class="btn" type="button"  ng-click="addContact()">Ajouter</button>
							</div>
							<br/>
						 	<input type="checkbox" ng-model="event.contactsOnly" />
						 	<span tooltip-placement="right" tooltip="Si cette case est coché les événement sera accessible uniquement aux personnes correspondantes aux mails saisies">Restreindre l'accès à l'événement à cette liste de diffusion</span>
						</div>
					</div>
				</div>
				<br/>
				</fieldset>
				<button class="btn btn-large btn-primary" type="button" ng-click="valider()">Valider</button>
			</div>
		</div>
	</div>

}
